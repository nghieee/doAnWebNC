@model List<web_ban_thuoc.Models.Product>

<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4" id="product-list">
    @if (Model != null && Model.Any())
    {
        foreach (var product in Model)
        {
            var mainImage = product.ProductImages?.FirstOrDefault(i => i.IsMain == true) ??
            product.ProductImages?.FirstOrDefault();
            <a class="col text-decoration-none"
                href="@Url.Action("Details", "Product", new { id = product.ProductId })">
                <div class="bg-white rounded-3 shadow-sm overflow-hidden hover-border hover-border-blue-500 h-100">
                    <img src="/images/products/@(mainImage?.ImageUrl ?? "/images/sanpham.png")" class="p-3 w-100"
                        alt="@product.ProductName" />
                    <div class="px-3 pb-3">
                        <h5 class="text-sm text-black line-clamp-3">@product.ProductName</h5>
                        <div class="mt-1 text-primary fw-semibold">@product.Price.ToString("N0")đ</div>
                        <div class="text-gray-500 text-sm text-decoration-line-through opacity-50">@((product.Price *
                                                                        1.25m).ToString("N0"))đ</div>
                        <p class="mt-1 bg-gray-200 text-gray-600 rounded text-xs w-fit opacity-50">@(product.Package ??
                                                                        "Hộp")</p>
                        <button class="mt-2 w-100 bg-primary text-white py-2 rounded-pill border-0">Chọn
                            mua</button>
                    </div>
                </div>
            </a>
        }
    }
    else
    {
        <div class="col-12 text-center text-muted">
            <div class="py-5">
                <i class="fas fa-search fa-3x text-muted mb-3"></i>
                <h5 class="text-muted">Không tìm thấy sản phẩm nào</h5>
                <p class="text-muted">Hãy thử thay đổi bộ lọc hoặc tìm kiếm với từ khóa khác.</p>
            </div>
        </div>
    }
</div> 